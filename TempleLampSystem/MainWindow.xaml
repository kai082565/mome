<Window x:Class="TempleLampSystem.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:TempleLampSystem.Views"
        Title="點燈管理系統"
        Height="800"
        Width="1280"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True"
        TextOptions.TextFormattingMode="Display"
        TextOptions.TextRenderingMode="ClearType"
        RenderOptions.BitmapScalingMode="HighQuality">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 頂部標題區 - 廟宇殿堂風格 -->
        <Border Grid.Row="0"
                Background="{StaticResource HeaderGradient}"
                BorderBrush="{StaticResource GoldDarkBrush}"
                BorderThickness="0,0,0,2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- 頂部金飾線 -->
                <Border Height="4" Background="{StaticResource GoldGradient}"/>

                <!-- 主標題區 -->
                <Border Grid.Row="1" Padding="25,14">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- 左側系統標題 -->
                        <StackPanel Orientation="Horizontal">
                            <Border Background="#3A0808" CornerRadius="25" Padding="8" Margin="0,0,15,0"
                                    BorderBrush="{StaticResource GoldBrush}" BorderThickness="2">
                                <TextBlock Text="&#x2726;"
                                           FontSize="26"
                                           Foreground="#FFD700"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="點燈管理系統"
                                           FontSize="26"
                                           FontWeight="Bold"
                                           Foreground="#FFD700"
                                           FontFamily="{StaticResource PrimaryFont}"/>
                                <TextBlock Text="Temple Lamp Management System"
                                           FontSize="11"
                                           Foreground="#C9A96E"
                                           FontFamily="{StaticResource PrimaryFont}"
                                           Margin="2,2,0,0"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- 中間裝飾 -->
                        <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" Opacity="0.4">
                            <TextBlock Text="&#x2500;&#x2500;&#x2500; &#x2726; &#x2500;&#x2500;&#x2500;" Foreground="#DAA520" FontSize="16"/>
                        </StackPanel>

                        <!-- 右側宮廟名稱 + 匯入按鈕 -->
                        <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                            <Button x:Name="ImportDataButton"
                                    Content="匯入舊資料"
                                    Click="ImportDataButton_Click"
                                    FontSize="12"
                                    Foreground="#E8D5B5"
                                    Background="#5A1A1A"
                                    BorderBrush="{StaticResource GoldBrush}"
                                    BorderThickness="1"
                                    Padding="12,6"
                                    Margin="0,0,12,0"
                                    Cursor="Hand"
                                    FontFamily="{StaticResource PrimaryFont}"/>
                            <Border VerticalAlignment="Center"
                                    BorderBrush="{StaticResource GoldBrush}" BorderThickness="2"
                                    CornerRadius="6" Padding="18,6"
                                    Background="#3A0808">
                                <TextBlock Text="鳳屏宮"
                                           FontSize="24"
                                           FontWeight="Bold"
                                           Foreground="#FFD700"
                                           FontFamily="{StaticResource PrimaryFont}"/>
                            </Border>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- 底部金飾線 -->
                <Border Grid.Row="2" Height="3" Background="{StaticResource GoldGradient}"/>
            </Grid>
        </Border>

        <!-- 主內容區 -->
        <Grid Grid.Row="1" Margin="15,18,15,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- 左側：客戶搜尋 -->
            <GroupBox Grid.Column="0" Header="客戶搜尋" Margin="5">
                <views:CustomerSearchView x:Name="CustomerSearchView"/>
            </GroupBox>

            <!-- 分隔線 -->
            <GridSplitter Grid.Column="1"
                          Width="8"
                          HorizontalAlignment="Stretch"
                          Background="Transparent"/>

            <!-- 右側：點燈操作 -->
            <GroupBox Grid.Column="2" Header="點燈操作" Margin="5">
                <views:LampOrderView x:Name="LampOrderView"/>
            </GroupBox>
        </Grid>

        <!-- 底部狀態列 -->
        <Border Grid.Row="2"
                Background="{StaticResource HeaderGradient}"
                BorderBrush="{StaticResource GoldDarkBrush}"
                BorderThickness="0,2,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <!-- 金飾線 -->
                <Border Height="2" Background="{StaticResource GoldGradient}"/>
                <StatusBar Grid.Row="1" Background="Transparent">
                    <StatusBarItem>
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="OnlineIndicatorBorder"
                                    Width="12" Height="12"
                                    CornerRadius="6"
                                    Background="Gray"
                                    Margin="0,0,8,0"/>
                            <Ellipse x:Name="OnlineIndicator"
                                     Width="0" Height="0"
                                     Visibility="Collapsed"/>
                            <TextBlock x:Name="SyncStatusText" Text="檢查連線中..." FontWeight="SemiBold" Foreground="#E8D5B5"/>
                        </StackPanel>
                    </StatusBarItem>
                    <Separator Background="#8B6914"/>
                    <StatusBarItem>
                        <TextBlock x:Name="PendingSyncText" Text="" Foreground="#E8D5B5"/>
                    </StatusBarItem>
                    <StatusBarItem HorizontalAlignment="Right">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#x2726; " FontSize="12" Foreground="#DAA520" VerticalAlignment="Center"/>
                            <TextBlock x:Name="CurrentTimeText" Text="" FontWeight="SemiBold" Foreground="#FFD700"/>
                        </StackPanel>
                    </StatusBarItem>
                </StatusBar>
            </Grid>
        </Border>
    </Grid>
</Window>
