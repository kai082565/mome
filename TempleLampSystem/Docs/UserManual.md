# 點燈管理系統 - 使用者手冊

版本：1.0.0

---

## 目錄

1. [系統需求](#1-系統需求)
2. [安裝與啟動](#2-安裝與啟動)
3. [主要功能](#3-主要功能)
4. [操作指南](#4-操作指南)
5. [離線與同步](#5-離線與同步)
6. [常見問題](#6-常見問題)

---

## 1. 系統需求

### 硬體需求
- 處理器：Intel Core i3 或同等級以上
- 記憶體：4GB RAM 以上
- 硬碟空間：500MB 以上

### 軟體需求
- 作業系統：Windows 10/11 (64位元)
- .NET Runtime 8.0（安裝程式會自動安裝）

---

## 2. 安裝與啟動

### 安裝步驟

1. 執行安裝程式 `TempleLampSystem_Setup_1.0.0.exe`
2. 依照安裝精靈指示完成安裝
3. 安裝完成後，桌面會出現「點燈管理系統」捷徑

### 首次啟動

1. 雙擊桌面捷徑啟動程式
2. 系統會自動建立本地資料庫
3. 若已設定 Supabase，系統會嘗試同步雲端資料

---

## 3. 主要功能

| 功能 | 說明 |
|------|------|
| 客戶管理 | 新增、查詢、修改客戶資料 |
| 點燈管理 | 為客戶點燈、查詢點燈紀錄 |
| 重複檢查 | 同電話/手機視為同一人，防止重複點燈 |
| 到期提醒 | 顯示 30 天內即將到期的點燈 |
| 單據列印 | 列印點燈單據或儲存為 PDF |
| 雲端同步 | 多台電腦資料同步 |

---

## 4. 操作指南

### 4.1 新增客戶並點燈

1. **搜尋客戶**：在左側輸入電話號碼，按「搜尋」
2. **選擇客戶**：點選要服務的客戶
3. **選擇燈種**：在右側選擇燈種
4. **確認點燈**：確認金額後按「確認點燈」

### 4.2 列印單據

- 點燈成功後會詢問是否列印
- 選擇「是」直接列印，「否」儲存為 PDF

### 4.3 雲端同步

- 點選「↑ 上傳至雲端」上傳本地資料
- 點選「↓ 從雲端下載」下載最新資料

---

## 5. 離線與同步

### 離線模式

當沒有網路連線時：
- ✅ 可以查詢本地客戶資料
- ✅ 可以新增客戶、點燈
- ✅ 可以列印單據
- ⚠️ 新增的資料會暫存，恢復網路後自動同步

### 同步狀態

| 狀態 | 說明 |
|------|------|
| 🟢 已連線 | 網路正常，同步正常 |
| 🟠 離線模式 | 無網路，使用本地資料 |

---

## 6. 常見問題

### Q1：為什麼無法點燈？

可能原因：
1. 該客戶（或同電話客戶）已有未過期的同燈種紀錄
2. 未選擇客戶或燈種

### Q2：如何備份資料？

1. 關閉程式
2. 複製安裝目錄下的 `TempleLamp.db` 檔案
3. 妥善保存備份檔案

### Q3：列印的單據可以自訂嗎？

可修改 `appsettings.json` 中的設定：
- `TempleName`：宮廟名稱
- `TempleAddress`：地址
- `TemplePhone`：電話

---

## 技術支援

如有問題，請聯繫系統管理員。
